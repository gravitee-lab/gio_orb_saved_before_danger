description: >
  This Full example demonstrates how to use :
  * The "`hello-job`" and "`nodejs-job`" `Orb` job,
  * along with an "oldschool"-defined job, invoked via the "`wflow_with_old_sch00l_job`" workflow

  The "oldschool"-defined job example demonstrates how to use the "`greet`" `Orb` command, and especially how to
  pass a value at runtime, to the `greet` `Orb` command, using `Orb` parameters :
  * The first `greet` command call, will welcome "Gravitee Mates" in the default Team
  * The second `greet` command call, will welcome "Paul", "Marc", and "Jean" in the "devops" Team
  * The Third `greet` command call, will welcome "Alexandre", "Yann", and "Laurie" in the "development" Team


# Provide a use-case based example for using this orb.
# Everything in the `usage` section will be displayed in the orb registry.
# Comments are not retained.
usage:
  version: 2.1

  orbs:
    gravit33io-devorbs: orbinoid2/gravitee-dev-repos@0.0.5
    # g33io-dev-repos: orbinoid2/gravitee-dev-repos@0.0.1

  jobs:
    oldschool:
      docker:
        - image: "circleci/node:latest"
      # environment:
        # SOME_PARAM: "some value"
      steps:
        - checkout
        # Will welcome "Gravitee Mates" in the default Team (salesforce)
        - gravit33io-devorbs/greet:
            greet_to: "Gravitee Mates"
        # Will welcome Paul, Marc, and Jean in the devops Team
        - gravit33io-devorbs/greet:
            greet_to: "Paul, Marc, Jean"
            greet_team: "devops"
        # Will welcome Alexandre, Yann, and Laurie in the development Team
        - gravit33io-devorbs/greet:
            greet_to: "Alexandre, Yann, Laurie"
            greet_team: "development"
        - run:
            name: install
            command: npm ci
        - run:
            name: validate
            command: npm run validate
        - run:
            name: release
            command: echo installing semantic-release && npx -p semantic-release@15 -c 'echo running semantic-release && semantic-release'

  workflows:
    version: 2.1
    wflow_with_old_sch00l_job:
      jobs:
        - oldschool:
            context: cicd-orchestrator
    hell0_workfl0w:
      jobs:
        # Job defined from the [orbinoid2/gravitee-dev-repos@0.0.4] Circle CI Orb
        - gravit33io-devorbs/hello-job:
            greet_to: "Titouan, Paul, Nicolas, Azize, David, Florent, Laurie, Rory"
            greet_team: "salesforce"
            context: yourcontext
    hell0_n0dejs_wfl0w:
      jobs:
        # Job defined from the [orbinoid2/gravitee-dev-repos@0.0.4] Circle CI Orb
        - gravit33io-devorbs/nodejs-job:
            greet_to: "Titouan, Paul, Nicolas, Azize, David, Florent, Laurie, Rory"
            greet_team: "salesforce"
            context: cicd-orchestrator
